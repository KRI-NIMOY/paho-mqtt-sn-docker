--- MQTTSNGateway/src/MQTTSNGWClient.h	2026-02-12 10:32:57.469209666 -0800
+++ MQTTSNGateway/src/MQTTSNGWClient.h	2026-02-12 10:35:12.352983202 -0800
@@ -205,10 +205,12 @@
     bool checkTimeover(void);
     void updateStatus(MQTTSNPacket*);
     void updateStatus(ClientStatus);
-    void connectSended(void);
+    void connectSended(uint32_t keepAliveMsec = 0);
     void connackSended(int rc);
     void disconnected(void);
     bool isConnectSendable(void);
+    bool isLost(void);
+    bool checkConnectingTimeout(void);
     void tryConnect(void);
     ClientStatus getClientStatus(void);
 
@@ -283,7 +285,9 @@
     bool _holdPingRequest;
 
     Timer _keepAliveTimer;
+    Timer _connectingTimer;
     uint32_t _keepAliveMsec;
+    uint32_t _connectingTimeoutMsec;
 
     ClientStatus _status;
     bool _waitWillMsgFlg;
--- MQTTSNGateway/src/MQTTSNGWClient.cpp	2026-02-12 10:32:57.469209666 -0800
+++ MQTTSNGateway/src/MQTTSNGWClient.cpp	2026-02-12 10:35:14.263983202 -0800
@@ -40,6 +40,7 @@
     _snMsgId = 0;
     _status = Cstat_Free;
     _keepAliveMsec = 0;
+    _connectingTimeoutMsec = 0;
     _topics = new Topics();
     _clientId = nullptr;
     _willTopic = nullptr;
@@ -188,7 +189,17 @@
 
 bool Client::checkTimeover(void)
 {
-    return (_status == Cstat_Active && _keepAliveTimer.isTimeup());
+    if (_status == Cstat_Active && _keepAliveTimer.isTimeup())
+    {
+        _status = Cstat_Lost;
+        return true;
+    }
+    return false;
+}
+
+bool Client::checkConnectingTimeout(void)
+{
+    return (_status == Cstat_Connecting && _connectingTimer.isTimeup());
 }
 
 void Client::setKeepAlive(MQTTSNPacket* packet)
@@ -288,9 +299,14 @@
     _status = stat;
 }
 
-void Client::connectSended()
+void Client::connectSended(uint32_t keepAliveMsec)
 {
     _status = Cstat_Connecting;
+    if (keepAliveMsec > 0)
+    {
+        _connectingTimeoutMsec = keepAliveMsec;
+        _connectingTimer.start(_connectingTimeoutMsec);
+    }
 }
 
 void Client::connackSended(int rc)
@@ -316,6 +332,11 @@
     _status = Cstat_TryConnecting;
 }
 
+bool Client::isLost(void)
+{
+    return (_status == Cstat_Lost);
+}
+
 bool Client::isCleanSession(void)
 {
     return _sessionStatus;
--- MQTTSNGateway/src/MQTTSNGWBrokerSendTask.cpp	2026-02-12 10:32:57.469209666 -0800
+++ MQTTSNGateway/src/MQTTSNGWBrokerSendTask.cpp	2026-02-12 10:35:14.009951673 -0800
@@ -120,7 +120,7 @@
             {
                 if (packet->getType() == CONNECT)
                 {
-                    client->connectSended();
+                    client->connectSended(_gwparams->keepAlive * 1000UL);
                 }
                 else if (packet->getType() == DISCONNECT)
                 {
--- MQTTSNGateway/src/MQTTSNGWPacketHandleTask.cpp	2026-02-12 10:32:57.469209666 -0800
+++ MQTTSNGateway/src/MQTTSNGWPacketHandleTask.cpp	2026-02-12 10:35:16.094285006 -0800
@@ -131,6 +131,34 @@
 
             /*------ Check Adapters   Connect or PINGREQ ------*/
             adpMgr->checkConnection();
+
+            /*------ Check Client Keep Alive Timers ------*/
+            Client* cl = _gateway->getClientList()->getClient(0);
+            while (cl)
+            {
+                if (cl->checkTimeover())
+                {
+                    WRITELOG("%s PacketHandleTask %s is lost (keep-alive timeout).%s\n",
+                        ERRMSG_HEADER, cl->getClientId(), ERRMSG_FOOTER);
+                    cl->getNetwork()->close();
+
+                    /* Send DISCONNECT to the client */
+                    MQTTSNPacket* disconnPkt = new MQTTSNPacket();
+                    disconnPkt->setDISCONNECT(0);
+                    Event* evDisc = new Event();
+                    evDisc->setClientSendEvent(cl, disconnPkt);
+                    _gateway->getClientSendQue()->post(evDisc);
+                }
+                else if (cl->checkConnectingTimeout())
+                {
+                    WRITELOG("%s PacketHandleTask %s connecting timeout.%s\n",
+                        ERRMSG_HEADER, cl->getClientId(), ERRMSG_FOOTER);
+                    cl->disconnected();
+                    cl->getNetwork()->close();
+                    /* No need to send DISCONNECT as it's not connected yet */
+                }
+                cl = cl->getNextClient();
+            }
         }
 
         /*------    Handle SEARCHGW Message     ---------*/
